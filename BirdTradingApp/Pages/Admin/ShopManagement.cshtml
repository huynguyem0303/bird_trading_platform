@page
@model BirdTradingApp.Pages.Admin.ShopManagementModel
@{
    Layout = "/Pages/Shared/_AdminLayout.cshtml";
}
<style>
    .row {
        display: flex;
        border: none; /* Remove border from the row */
        flex: 1; /* Take up all available space */
    }

    .col {
        padding: 20px;
        border: none; /* Remove border from the column */
        flex: 1; /* Take up all available space */
    }

    .col-25 {
        flex-basis: 25%; /* Set the initial size of the column */
    }

    .col-75 {
        flex-basis: 75%; /* Set the initial size of the column */
    }

    .row-50 {
        margin-top: 15px;
        flex-basis: 50%;
    }

    .col-50 {
        flex-basis: 50%;
    }

    .item-container {
        height: 200px;
        background-color: red;
    }

    .profile-container {
        display: flex;
        align-items: center;
    }

    .profile-image-chilren {
        width: 250px;
        height: 120px;
    }

    .img-user {
        width: 250px;
        height: 120px;
        border: 1px solid black;
        margin-top: 15px;
        margin-left: 270px;
    }

    .profile-image {
        width: 80px;
        height: 80px;
        border-radius: 50%;
    }

    .profile-name {
        margin-left: 15px;
        font-weight: bold;
    }

    .parent-text {
        margin-left: 15px;
    }

    .children-text {
        margin-top: 3px;
    }

    .edit-icon {
        margin-left: 15px;
        margin-top: 5px;
    }

    .children-text.active {
        color: red;
    }

    .user-children {
        margin-left: 32px;
        margin-top: 5px;
    }

    .address.active .parent-text {
        color: red;
    }

    .notification.active .parent-text {
        color: red;
    }

    .infor-header {
        border-bottom: 1px solid black;
        padding-bottom: 30px;
        margin-top: 15px;
        margin-left: 10px;
    }

    .infor-body {
        margin-top: 15px;
        margin-left: 50px;
        margin-bottom: 10px;
    }

    .row-infor {
        width: 500px;
        height: 50px;
        text-align: left;
        margin-left: 70px;
    }

        .row-infor a {
            color: blue;
            margin-left: 10px;
        }

    .input-name {
        width: 300px;
        height: 35px;
    }

    .row-lable {
        width: 100px;
        height: 50px;
        text-align: right;
        margin-right: 15px;
    }

    .gender-select {
        padding: 10px;
    }

    #specifyColor {
        accent-color: red;
    }

    .select-form select {
        width: 100px;
        height: 30px;
    }

    .btn-save button {
        height: 40px;
        width: 52px;
        color: white;
        background-color: red;
        border: 1px;
        border-radius: 3px;
        text-align: center;
        margin-bottom: 10px;
        margin-top: 15px;
    }

    .btn-save-infor button {
        height: 40px;
        width: 150px;
        color: white;
        background-color: red;
        border: 1px;
        border-radius: 3px;
        text-align: center;
        margin-bottom: 10px;
        margin-top: 15px;
        margin-left: 170px;
    }

    .btn-img {
        margin-top: 10px;
        margin-bottom: 10px;
    }

        .btn-img label {
            height: 25px;
            width: 150px;
            border: 2px solid black;
            border-radius: 3px;
            text-align: center;
            color: black;
        }

    .head-container {
        background-color: white;
        border: 1px solid #eee;
        border-radius: 3px;
    }

    .lable-head {
        margin-top: 25px;
    }

    .default-address:checked {
        color: red;
    }

    .default-address {
        width: 15px;
        height: 15px;
    }

        .default-address checked {
            color: red;
        }

    .lable-body input {
        height: 37px;
        width: 200px;
        text-align: center;
    }

    .begin {
        margin-left: 10px;
    }

    .row-lable-address {
        width: 500px;
        text-align: left;
    }

    .row-infor-address {
        width: 230px;
        text-align: right;
    }

        .row-infor-address a {
            margin-bottom: 10px;
            color: blue;
        }

        .row-infor-address button {
            height: 35px;
            border: 1px solid black;
            border-radius: 3px;
            background-color: white;
        }


    .txt-adr {
        margin-right: 465px;
        font-weight: bold;
        font-size: 20px;
    }

    .btn-add-new button {
        height: 35px;
        background-color: red;
        color: white;
        border: 1px solid white;
        border-radius: 3px;
    }

    .defaut-div {
        height: 25px;
        width: 70px;
        background-color: white;
        color: red;
        border: 1px solid red;
        border-radius: 3px;
    }

    .voucher-image {
        width: 70px;
        height: 70px;
    }

    .voucher {
        margin-bottom: 50px;
    }

    .notification-popup {
        width: 270px;
        height: 110px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #eee;
        border: 1px solid #ccc;
        padding: 10px;
        display: none;
        z-index: 9999;
    }

    .notification-icon {
        color: green;
        margin-right: 5px;
        height: 90px;
        width: 90px;
        border-radius: 100%;
        background: white;
        text-align: center;
        font-size: 40px;
    }

        .notification-icon i {
            margin-top: 25px;
        }

    .notification-popup.show {
        display: flex;
    }

        .notification-popup.show.clicked {
            display: none;
        }

    .notification-message {
        margin-left: 7px;
        margin-top: 35px;
    }

    body.locked {
        overflow: hidden;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
    }

    .modal-content {
        height: 400px;
        width: 700px;
        background-color: #fefefe;
        margin: 10% auto;
        padding: 20px;
        border: 1px solid #888;
        max-width: 90%;
        max-height: 90%;
    }

    .close {
        height: 40px;
        width: 90px;
        cursor: pointer;
        color: black;
        font-size: 20px;
        background-color: red;
    }

    .save {
        height: 40px;
        width: 90px;
        font-size: 20px;
        background-color: red;
        color: white;
        border: 1px solid white;
    }

    .popup-text {
        margin-bottom: 20px;
        font-size: 30px;
        color: black;
    }

    .popup-input-name {
        width: 300px;
        height: 35px;
        margin-right: 30px;
        margin-bottom: 10px;
        margin-left: 10px;
    }

    .popup-input-phone {
        width: 300px;
        height: 35px;
        margin-bottom: 10px;
    }

    .country-selected {
        width: 300px;
        height: 30px;
        margin-bottom: 15px;
    }

    .city-selected {
        width: 300px;
        height: 30px;
        margin-right: 30px;
        margin-bottom: 15px;
        margin-left: 10px
    }

    .address-detail {
        width: 640px;
        height: 100px;
        margin-bottom: 15px;
        margin-left: 10px
    }

    .popup-btn {
        float: right;
    }

    .default-div {
        margin-left: 10px;
    }

    .address-form-div {
        height: 130px;
        width: 700px;
        border-bottom: 1px solid black;
        margin-bottom: 10px;
    }

    .btn-update-address {
        border: 1px solid white;
        color: blue;
        background-color: white;
    }
</style>
<div class="bg-secondary bg-opacity-10 py-2 mb-5">
    <div class="container">
        <h1>Shop Management</h1>
    </div>
</div>
<div id="notification-popup" class="text-center notification-popup">
    <div id="notification-icon" class="notification-icon">
        <i class="fa fa-check"></i>
    </div>
    <div id="notification-message" class="notification-message"></div>
</div>
<div class="container">
    <div id="form-container" display="flex">
        <a class="btn btn-primary" href="/Admin/AddShop" role="button">Add Shop</a>
    </div>
    <table class="table">
        <thead>
            <tr>
                <td>Shop Id</td>
                <td>Shop Name</td>
                <td>Shop Address</td>
                <td>Shop Phone</td>
                <td>Shop Email</td>
                <td>Shop Description</td>
                <td>Shop IsBlocked</td>
                <td>Shop Rating</td>
                <td>Shop Owner</td>
                <td>Action</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var shop in Model.Shops)
            {
                <tr>
                    <td>@shop.Id</td>
                    <td>@shop.Name</td>
                    <td>@shop.Address</td>
                    <td>@shop.Phone</td>
                    <td>@shop.Email</td>
                    <td>@shop.Description</td>
                    <td style="color:@(@shop.IsBlocked == false ? "green" : "red")">@(shop.IsBlocked == true ? "Blocked" : "Active")</td>
                    <td>@shop.Rating</td>
                    <td>@shop.User.Name</td>
                    <td>
                        <a role="button" href="/Admin/EditShop/@shop.Id" class="btn btn-primary">Update</a>
                        <form asp-page-handler="delete" method="post" asp-route-id=@shop.Id>
                            <button style="width:78px" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete?')">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    var notificationMessage = '@TempData["NotificationMessage"]';

    if (notificationMessage !== '') {
        $('#notification-message').text(notificationMessage);
        $('#notification-popup').addClass('show');
        $('body').addClass('locked');

        setTimeout(function () {
            $('#notification-popup').removeClass('show');
            $('body').removeClass('locked');
        }, 2000);

        $('#notification-popup').click(function () {
            $(this).removeClass('show');
            $(this).addClass('clicked');
            $('body').removeClass('locked');
        });
    }
</script>